<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnvConfig - 环境配置工具</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('quick_config.static', filename='quick_config.css') }}">
    <script src="{{ url_for('quick_config.static', filename='env_config.js') }}"></script>
</head>
<body>
    <header>
        <h1>EnvConfig - 环境配置工具</h1>
        <nav>
            <!-- 移除导航链接 -->
        </nav>
    </header>

    <main>
        <div class="container">
            <!-- 左侧环境输入区域 -->
            <div class="panel ip-panel">
                <h2>环境输入</h2>
                
                <!-- 用户输入环境信息框 -->
                <div class="input-section">
                    <h3>环境信息输入</h3>
                    <div class="form-group">
                        <textarea id="ipInput" rows="4" placeholder="输入IP地址"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label for="user_name">用户名</label>
                            <input type="text" id="user_name" placeholder="输入用户名">
                        </div>
                        
                        <div class="form-group half-width">
                            <label for="user_pwd">密码</label>
                            <input type="text" id="user_pwd" placeholder="输入密码">
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button onclick="parseIPsBackEnd()" class="btn btn-primary">解析IP</button>
                        <button onclick="clearInputs()" class="btn btn-secondary">清空</button>
                    </div>
                </div>
                
                <!-- 解析出的环境IP展示 -->
                <div class="parsed-ips-section">
                    <h3>解析出的环境IP（最多5个）</h3>
                    <div id="parsedIPs" class="parsed-ips-container"></div>
                </div>
                
                <div class="preset-section">
                    <h3>预设用户</h3>
                    <div class="preset-buttons">
                        <button onclick="preUser1()" class="btn btn-preset">root</button>
                        <button onclick="preUser2()" class="btn btn-preset">admin</button>
                        <button onclick="preUser3()" class="btn btn-preset">user</button>
                        <button onclick="preUser4()" class="btn btn-preset">guest</button>
                    </div>
                </div>
            </div>

            <!-- 中间执行配置区域 -->
            <div class="panel config-panel">
                <h2>执行配置</h2>                
                <div class="button-group">
                    <button onclick="executeAllCommands()" class="btn btn-success">执行配置</button>
                    <button onclick="preCmd1()" class="btn btn-preset">安装依赖</button>
                    <button onclick="preCmd2()" class="btn btn-preset">配置网络</button>
                    <button onclick="preCmd3()" class="btn btn-preset">设置时区</button>
                    <button onclick="preCmd4()" class="btn btn-preset">更新系统</button>
                    <button onclick="preCmd5()" class="btn btn-preset">配置防火墙</button>
                    <button onclick="preCmd6()" class="btn btn-preset">设置权限</button>
                </div>
            </div>

            <!-- 右侧输出区域 -->
            <div class="panel result-panel">
                <div class="result-header">
                    <h2>输出</h2>
                    <button onclick="clearResults()" class="btn btn-danger">清空</button>
                </div>
                <div class="progress-section">
                    <div id="progressContainer" class="progress-container">
                        <div id="progressBar" class="progress-bar">0%</div>
                    </div>
                </div>
                
                <div id="result" class="result-content"></div>
            </div>
        </div>
    </main>

    <footer>
        <p>© 2024 EnvConfig 环境配置工具</p>
    </footer>


</body>
</html>